{%- if content is not empty and vendor is not empty -%}
  {{- attach_library('burda_cmp/liveramp.conditional-content') -}}

  <div class="burda-cmp-conditional-content" data-burda-cmp-conditional-content="{{ content|e('html_attr') }}" data-burda-cmp-vendor="{{- vendor|e('html_attr') -}}"{% if purposes is not empty %} data-burda-cmp-purposes="{{ purposes|join(',')|e('html_attr') -}}"{% endif %} aria-expanded="false">
    <div class="burda-cmp-conditional-content__content">
      {# Placeholder message (if any). #}
      <div data-burda-cmp-conditional-content-placeholder style="display: none;">
        <div class="burda-cmp-conditional-content__message burda-cmp-conditional-content__message--preface">
          {%- if message_preface is not empty -%}
            {{- message_preface -}}
          {%- else -%}
            Passend zu dem Inhalt finden Sie hier einen externen Inhalt von
            {{ vendor_name }}. Aufgrund Ihrer Tracking-Einstellung ist die
            technische Darstellung nicht möglich. Mit dem Klick auf
            „{{ toggle_label }}“ willigen Sie ein, dass Ihnen ab sofort
            externe Inhalte dieses Dienstes angezeigt werden.
          {%- endif -%}
        </div>

        {# Toggle to inject/remove actual conditional content. #}
        {%- if toggle_label is not empty -%}
          <div class="burda-cmp-conditional-content__toggle-button-wrapper">
            <a href="#!" data-burda-cmp-toggle class="burda-cmp-conditional-content__toggle-button button">{{- toggle_label -}}</a>
          </div>
        {%- endif -%}

        <div class="burda-cmp-conditional-content__message burda-cmp-conditional-content__message--postscript">
          {%- if message_postscript is not empty -%}
            {{- message_postscript -}}
          {%- else -%}
            Informationen finden Sie in unserer <a href="{{ url_privacy_policy|default('#') }}">Datenschutzerklärung</a>.
            Über die <a href="#!" data-burda-cmp-show-consent-manager>Cookie-Einstellungen</a>
            im Footer können Sie die aktivierte Funktionen wieder deaktivieren.
          {%- endif -%}
        </div>
      </div>

      {# Wrapper for actual injected content. #}
      <div data-burda-cmp-injected-content></div>

      {# Show consent manager. #}
      {# <a href="#!" data-burda-cmp-show-consent-manager>Consent Manager</a> #}
    </div>
  </div>
{%- endif -%}
